{% extends "base.html" %}
{% load i18n %}

{% block content %}
    <div class="container">
        <h2 class="text-center">{{ weather.city }}</h2>
        <p class="text-center pb-4">{% now "j F, H:i" %}</p>

        <div class="d-flex justify-content-between align-items-center pb-5">

            <div class="d-flex flex-column flex-grow-1"
                style="min-width: 15rem; max-width: 20rem;">

                <h4 class="pb-1"><mark class="p-1">{{ weather.temp|floatformat:0 }}°C</mark></h4>

                <div class="d-flex flex-column" style="gap: 0.5rem;">

                    <div class="d-flex justify-content-between align-items-end">
                        <div class="text-muted">{% trans "Ощущается как" %} </div>
                        <div class="border-bottom flex-grow-1 mb-1"></div>
                        <div class="fs-5">{{ weather.feels_like|floatformat:1 }}°C</div>
                    </div>

                    <div class="d-flex justify-content-between align-items-end">
                        <div class="text-muted">{% trans "Скорость ветра" %}</div>
                        <div class="border-bottom flex-grow-1 mb-1"></div>
                        <div class="fs-5">{{ weather.wind_speed|floatformat:1 }} м/с</div>
                    </div>

                    <div class="d-flex justify-content-between align-items-end">
                        <div class="text-muted">{% trans "Давление" %}</div>
                        <div class="border-bottom flex-grow-1 mb-1"></div>
                        <div class="fs-5">{{ weather.pressure }} hPa</div>
                    </div>

                    <div class="d-flex justify-content-between align-items-end">
                        <div class="text-muted">{% trans "Влажность" %}</div>
                        <div class="border-bottom flex-grow-1 mb-1"></div>
                        <div class="fs-5">{{ weather.humidity }}%</div>
                    </div>

                </div>
            </div>

            <div class="d-inline-flex flex-column align-items-center">
                <img
                    class="img-fluid"
                    src="http://openweathermap.org/img/w/{{ weather.icon_name }}.png"
                    alt="Weather icon">

                <span class="text-muted">{{ weather.desc_short }}</span>
            </div>
            <div class="city_photo">
                <img src="{{ city.image.url }}" alt="city_img" class="city_img_detail">
            </div>

        </div>

        <div class="d-flex justify-content-center">
            <iframe width="100%" height="450" src="https://embed.windy.com/embed2.html?lat=&lon=52.430&detailLat=55.758&detailLon=52.430&width=650&height=450&zoom=5&level=surface&overlay=wind&product=ecmwf&menu=&message=&marker=true&calendar=now&pressure=&type=map&location=coordinates&detail=&metricWind=m%2Fs&metricTemp=%C2%B0C&radarRange=-1" frameborder="0"></iframe>

        </div>
    </div>
{% endblock content %}
